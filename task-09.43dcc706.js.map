{"version":3,"sources":["data/gallery.js","js/homeworks/task-09.js"],"names":["preview","original","description","boxGallery","document","querySelector","openModal","closeModal","backDrop","imageEl","createMarkUp","gallery","map","join","insertAdjacentHTML","addEventListener","onOpenModal","onCloseModal","onBackdropClick","event","preventDefault","window","onEscapeClick","forEach","item","target","getAttribute","setAttribute","classList","add","removeEventListener","remove","src","currentTarget","code","nextPictures","privioslyPictures","i","length"],"mappings":"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","file":"task-09.43dcc706.js","sourceRoot":"../src","sourcesContent":["export default [\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n      description: 'Hokkaido Flower',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n      description: 'Container Haulage Freight',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n      description: 'Aerial Beach View',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n      description: 'Flower Blooms',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n      description: 'Alpine Mountains',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n      description: 'Mountain Lake Sailing',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n      description: 'Alpine Spring Meadows',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n      description: 'Nature Landscape',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n      description: 'Lighthouse Coast Sea',\n    },\n  ];","import gallery from '../../data/gallery'\n\n\nconst boxGallery = document.querySelector('.js-gallery')\nconst openModal = document.querySelector('div.lightbox')\nconst closeModal = document.querySelector('button[data-action=\"close-lightbox\"]')\nconst backDrop = document.querySelector('div.lightbox__overlay');\nconst imageEl = document.querySelector('.lightbox__image')\n\nconst createMarkUp = (gallery) => {\n    return gallery.map(({original,preview,description}) => {\n        return `\n            <li class=\"gallery__item\">\n                <a\n                class=\"gallery__link\"\n                href=${original}\n                >\n                    <img\n                        class=\"gallery__image\"\n                        src=${preview}\n                        data-source=${original}\n                        alt=${description}\n                    />\n                </a>\n        </li>\n    `\n    }).join('')\n}\n\nboxGallery.insertAdjacentHTML('afterbegin',createMarkUp(gallery)) \n\nboxGallery.addEventListener('click',onOpenModal)\ncloseModal.addEventListener('click',onCloseModal)\nbackDrop.addEventListener('click',onBackdropClick)\n\nfunction onOpenModal(event) {\n    event.preventDefault()\n    \n    window.addEventListener('keydown',onEscapeClick)\n\n    gallery.forEach(item =>{\n        if(event.target.getAttribute('src') === item.preview){\n            imageEl.setAttribute('src',item.original)\n            imageEl.setAttribute('alt',item.description)\n        }\n    })\n \n    openModal.classList.add('is-open')\n    \n}\n\nfunction onCloseModal() {\n    window.removeEventListener('keydown',onEscapeClick)\n    openModal.classList.remove('is-open')\n    imageEl.src = ''\n}\n\nfunction onBackdropClick(event) {\n    if(event.currentTarget === event.target){\n        onCloseModal()\n    }\n}\n\nfunction onEscapeClick(event) {\n  if (event.code === 'Escape') {\n      onCloseModal()\n  }\n  if (event.code === 'ArrowRight') {\n      nextPictures()\n  }\n  if(event.code === 'ArrowLeft'){\n    privioslyPictures()\n  }\n    \n}\n\n\nfunction nextPictures() {\n    for (let i = 0; i < gallery.length - 1; i+=1) {\n        if(imageEl.getAttribute('src') === gallery[i].original){\n            imageEl.setAttribute('src',gallery[i + 1].original)\n            imageEl.setAttribute('alt',gallery[i + 1].description)\n            return\n        }\n       \n    }\n   \n}\n\n\nfunction privioslyPictures() {\n    for (let i = 0; i < gallery.length - 1; i+=1) {\n        if(imageEl.getAttribute('src') === gallery[i].original){\n            imageEl.setAttribute('src',gallery[i - 1].original)\n            imageEl.setAttribute('alt',gallery[i - 1].description)\n            return\n        \n        } \n        \n    }\n}\n\n\n\n\n// const escPress = (e) => {\n//     if (e.code === 'Escape') {\n//         console.log('Снять слушатель')\n//         closeModal()\n//     }\n// }\n\n\n// const closeModal = () => {\n\n//     const removeEvent = () =>{\n//         window.removeEventListener('keydown',escPress)\n//         isOpenModal.classList.remove('is-open')\n//         imageSrcModal.src = ''\n//     }\n\n//     buttonClose.addEventListener('click',removeEvent)\n\n//     document.addEventListener('keydown',(event)=>{\n//         if(event.key === 'ArrowRight'){\n//             nextPicture(event)\n//         }else if(event.key === 'ArrowLeft'){\n//             previoslyPicture()\n//         }else{removeEvent()}\n//     })\n\n//     clickForOvervay.addEventListener('click',removeEvent)\n\n// }\n\n\n// const hadleCkickEventOpen = (event) => {\n//     const sourceElementPictures = event.target.dataset.source\n\n//     event.preventDefault()\n//     isOpenModal.classList.add('is-open')\n\n//     imageSrcModal.src = `${sourceElementPictures}`\n\n//     closeModal()\n// }\n\n// const nextPicture = (event) => {\n//     console.log('Следущая страница')\n//     const imageAllEl = document.querySelectorAll('.gallery__link')\n//     const imageEl = document.querySelector('.gallery__link')\n//     console.dir(imageEl)\n    \n//     imageAllEl.forEach(function addElem(item,index,array) {\n//         console.log(item)\n//         console.log(index)\n//         console.log(array)\n//         if(item.href === imageEl.href){\n//            return     \n//         }else{\n//             item.h\n//         }\n//     })\n// }\n\n// const previoslyPicture = (event) =>{\n//     console.log('предыдущая страница')\n// }\n\n\n// boxToAddEl.addEventListener('click',hadleCkickEventOpen)\n"]}