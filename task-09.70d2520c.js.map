{"version":3,"sources":["data/gallery.js","js/homeworks/task-09.js"],"names":["preview","original","description","boxGallery","document","querySelector","openModal","closeModal","backDrop","imageEl","createMarkUp","gallery","map","join","onOpenModal","event","preventDefault","window","addEventListener","onEscapeClick","forEach","item","target","getAttribute","setAttribute","classList","add","onCloseModal","removeEventListener","remove","src","onBackdropClick","currentTarget","code","nextPictures","privioslyPictures","i","length","insertAdjacentHTML"],"mappings":";AAgEG,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAhEY,IAAA,EAAA,CACX,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBAEhB,QAAA,QAAA;;AC0GH,aA1KA,IAAA,EAAA,EAAA,QAAA,uBAAwC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAGxC,MAAMC,EAAaC,SAASC,cAAc,eACpCC,EAAYF,SAASC,cAAc,gBACnCE,EAAaH,SAASC,cAAc,wCACpCG,EAAWJ,SAASC,cAAc,yBAClCI,EAAUL,SAASC,cAAc,oBAEjCK,EAAgBC,GACXA,EAAQC,IAAI,IAAoC,IAAnC,SAACX,EAAQ,QAACD,EAAO,YAACE,GAAY,EAC9C,mIAIeD,+HAIOD,0CACQC,kCACRC,yEAKvBW,KAAK,IASZ,SAASC,EAAYC,GACjBA,EAAMC,iBAENC,OAAOC,iBAAiB,UAAUC,GAElCR,EAAO,QAACS,QAAQC,IACTN,EAAMO,OAAOC,aAAa,SAAWF,EAAKrB,UACzCS,EAAQe,aAAa,MAAMH,EAAKpB,UAChCQ,EAAQe,aAAa,MAAMH,EAAKnB,gBAIxCI,EAAUmB,UAAUC,IAAI,WAI5B,SAASC,IACLV,OAAOW,oBAAoB,UAAUT,GACrCb,EAAUmB,UAAUI,OAAO,WAC3BpB,EAAQqB,IAAM,GAGlB,SAASC,EAAgBhB,GAClBA,EAAMiB,gBAAkBjB,EAAMO,QAC7BK,IAIR,SAASR,EAAcJ,GACF,WAAfA,EAAMkB,MACNN,IAEe,eAAfZ,EAAMkB,MACNC,IAEc,cAAfnB,EAAMkB,MACPE,IAMJ,SAASD,IACL,IAAK,IAAIE,EAAI,EAAGA,EAAIzB,EAAO,QAAC0B,OAAS,EAAGD,GAAG,EACvC,GAAG3B,EAAQc,aAAa,SAAWZ,EAAO,QAACyB,GAAGnC,SAG1C,OAFAQ,EAAQe,aAAa,MAAMb,EAAO,QAACyB,EAAI,GAAGnC,eAC1CQ,EAAQe,aAAa,MAAMb,EAAO,QAACyB,EAAI,GAAGlC,aAStD,SAASiC,IACL,IAAK,IAAIC,EAAI,EAAGA,EAAIzB,EAAO,QAAC0B,OAAS,EAAGD,GAAG,EACvC,GAAG3B,EAAQc,aAAa,SAAWZ,EAAO,QAACyB,GAAGnC,SAG1C,OAFAQ,EAAQe,aAAa,MAAMb,EAAO,QAACyB,EAAI,GAAGnC,eAC1CQ,EAAQe,aAAa,MAAMb,EAAO,QAACyB,EAAI,GAAGlC,aAjEtDC,EAAWmC,mBAAmB,aAAa5B,EAAaC,EAAO,UAE/DR,EAAWe,iBAAiB,QAAQJ,GACpCP,EAAWW,iBAAiB,QAAQS,GACpCnB,EAASU,iBAAiB,QAAQa","file":"task-09.70d2520c.js","sourceRoot":"../src","sourcesContent":["export default [\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n      description: 'Hokkaido Flower',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n      description: 'Container Haulage Freight',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n      description: 'Aerial Beach View',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n      description: 'Flower Blooms',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n      description: 'Alpine Mountains',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n      description: 'Mountain Lake Sailing',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n      description: 'Alpine Spring Meadows',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n      description: 'Nature Landscape',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n      description: 'Lighthouse Coast Sea',\n    },\n  ];","import gallery from '../../data/gallery'\n\n\nconst boxGallery = document.querySelector('.js-gallery')\nconst openModal = document.querySelector('div.lightbox')\nconst closeModal = document.querySelector('button[data-action=\"close-lightbox\"]')\nconst backDrop = document.querySelector('div.lightbox__overlay');\nconst imageEl = document.querySelector('.lightbox__image')\n\nconst createMarkUp = (gallery) => {\n    return gallery.map(({original,preview,description}) => {\n        return `\n            <li class=\"gallery__item\">\n                <a\n                class=\"gallery__link\"\n                href=${original}\n                >\n                    <img\n                        class=\"gallery__image\"\n                        src=${preview}\n                        data-source=${original}\n                        alt=${description}\n                    />\n                </a>\n        </li>\n    `\n    }).join('')\n}\n\nboxGallery.insertAdjacentHTML('afterbegin',createMarkUp(gallery)) \n\nboxGallery.addEventListener('click',onOpenModal)\ncloseModal.addEventListener('click',onCloseModal)\nbackDrop.addEventListener('click',onBackdropClick)\n\nfunction onOpenModal(event) {\n    event.preventDefault()\n    \n    window.addEventListener('keydown',onEscapeClick)\n\n    gallery.forEach(item =>{\n        if(event.target.getAttribute('src') === item.preview){\n            imageEl.setAttribute('src',item.original)\n            imageEl.setAttribute('alt',item.description)\n        }\n    })\n \n    openModal.classList.add('is-open')\n    \n}\n\nfunction onCloseModal() {\n    window.removeEventListener('keydown',onEscapeClick)\n    openModal.classList.remove('is-open')\n    imageEl.src = ''\n}\n\nfunction onBackdropClick(event) {\n    if(event.currentTarget === event.target){\n        onCloseModal()\n    }\n}\n\nfunction onEscapeClick(event) {\n  if (event.code === 'Escape') {\n      onCloseModal()\n  }\n  if (event.code === 'ArrowRight') {\n      nextPictures()\n  }\n  if(event.code === 'ArrowLeft'){\n    privioslyPictures()\n  }\n    \n}\n\n\nfunction nextPictures() {\n    for (let i = 0; i < gallery.length - 1; i+=1) {\n        if(imageEl.getAttribute('src') === gallery[i].original){\n            imageEl.setAttribute('src',gallery[i + 1].original)\n            imageEl.setAttribute('alt',gallery[i + 1].description)\n            return\n        }\n       \n    }\n   \n}\n\n\nfunction privioslyPictures() {\n    for (let i = 0; i < gallery.length - 1; i+=1) {\n        if(imageEl.getAttribute('src') === gallery[i].original){\n            imageEl.setAttribute('src',gallery[i - 1].original)\n            imageEl.setAttribute('alt',gallery[i - 1].description)\n            return\n        \n        } \n        \n    }\n}\n\n\n\n\n// const escPress = (e) => {\n//     if (e.code === 'Escape') {\n//         console.log('Снять слушатель')\n//         closeModal()\n//     }\n// }\n\n\n// const closeModal = () => {\n\n//     const removeEvent = () =>{\n//         window.removeEventListener('keydown',escPress)\n//         isOpenModal.classList.remove('is-open')\n//         imageSrcModal.src = ''\n//     }\n\n//     buttonClose.addEventListener('click',removeEvent)\n\n//     document.addEventListener('keydown',(event)=>{\n//         if(event.key === 'ArrowRight'){\n//             nextPicture(event)\n//         }else if(event.key === 'ArrowLeft'){\n//             previoslyPicture()\n//         }else{removeEvent()}\n//     })\n\n//     clickForOvervay.addEventListener('click',removeEvent)\n\n// }\n\n\n// const hadleCkickEventOpen = (event) => {\n//     const sourceElementPictures = event.target.dataset.source\n\n//     event.preventDefault()\n//     isOpenModal.classList.add('is-open')\n\n//     imageSrcModal.src = `${sourceElementPictures}`\n\n//     closeModal()\n// }\n\n// const nextPicture = (event) => {\n//     console.log('Следущая страница')\n//     const imageAllEl = document.querySelectorAll('.gallery__link')\n//     const imageEl = document.querySelector('.gallery__link')\n//     console.dir(imageEl)\n    \n//     imageAllEl.forEach(function addElem(item,index,array) {\n//         console.log(item)\n//         console.log(index)\n//         console.log(array)\n//         if(item.href === imageEl.href){\n//            return     \n//         }else{\n//             item.h\n//         }\n//     })\n// }\n\n// const previoslyPicture = (event) =>{\n//     console.log('предыдущая страница')\n// }\n\n\n// boxToAddEl.addEventListener('click',hadleCkickEventOpen)\n"]}